{% extends "base.html" %}
{% block titlecontent %}
<title>Submit Recipe - CookUp</title>
{% endblock %}
{% block bodycontent %}
<div class="submissionCard"><!--start of virtual recipe card-->
	<div class="headerContent">
		<h2> Recipe Submission</h2>
	</div>
	<form action="{{uploadURL}}" method="POST" enctype="multipart/form-data">
		<h3>Recipe name</h3>
		<div id="recipeTitle">
			<input type="text" placeholder="Recipe Name" name="recipe_title" required=TRUE>
		</div>
		<div class="addIngredContainer">
			<h3>Ingredients and description</h3>
			<table id="recipeTable">
				<tr id="tableLabels">
					<td>Ingredients</td>
					<td>Quantity</td>
					<td>Units</td>
				</tr>
				<tr id="userInput" class="ingRow">
					<td><input type="text" class="ingInput" placeholder="ingredient" name="ingredients"></td>
					<td><input type="text" class="qInput" placeholder="quantity" name="quantities"></td>
					<td><input type="text" class="uInput" placeholder="units e.g. tsp, tbsp, cups..." name="units"></td>
				</tr>
			</table>
			<div id="addIngredient" onclick="addIngredient();">
				<p>Add Ingredient</p>
			</div>
		</div>
		
		<div id="description">
			<!-- <h3>Description</h3> -->
			<textarea rows="4" cols="50" placeholder="Description" name="description" required=TRUE></textarea>
		</div>
		<table id="instructionTable">
            <tr id="instructionInput" class="instRow">
                <td><input type="text" class="instInput" placeholder="Instruction Step" name="instructions"></td>
            </tr>
		</table>
        <div id="addInstruction" onclick="addInstruction();">
				<p>Add A New Step</p>
		</div>
        <br><br><br><br>
		<table>
			<tr><h3>Time estimation</h3></tr>
			<tr>
				<td><input type="text" placeholder="Preparation time" name="prep_time" required=TRUE></td>
			</tr>
			<tr>
				<td><input type="text" placeholder="Cooking time" name="cook_time" required=TRUE></td>
			</tr>
		</table>
		<div id="image_upload">
			<h3>Photo upload</h3>
			<input type="file" name="file"/>
		</div>
		<div class="button">
			<input type="submit" value="Submit">
		</div>
	</form>
</div><!--end of virtual recipe card-->
</div><!--end of main container-->
<!--script to add ingredients-->
<script type = "text/javascript">
    function addInstruction(){
        var table = document.getElementById('instructionTable');
		var row = table.insertRow(-1);
		var cell1 = row.insertCell(0);
		cell1.innerHTML = '<input type="text" class="instInput" placeholder="Instruction Step" name="instructions">';
    }
	function addIngredient(){
		var table = document.getElementById('recipeTable');
		var row = table.insertRow(-1);
		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		cell1.innerHTML = '<input type="text" class="ingInput" placeholder="ingredient" name="ingredients">';
		cell2.innerHTML = '<input type="text" class="qInput" placeholder="quantity" name="quantities">';
		cell3.innerHTML = '<input type="text" class="uInput" placeholder="units e.g. tsp, tbsp, cups..." name="units">';
	}
</script>
{% endblock %}